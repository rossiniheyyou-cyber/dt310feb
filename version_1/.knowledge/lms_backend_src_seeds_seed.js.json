{"is_source_file": true, "format": "JavaScript", "description": "This file is a JavaScript script used for seeding a database with initial data, including users, courses, and lessons, for an LMS backend project.", "external_files": ["../config/db"], "external_methods": ["createDataSourceFromEnv"], "published": ["runSeeds"], "classes": [], "methods": [{"name": "envOrDefault(key, fallback)", "description": "Returns environment variable value or a fallback if the variable is not set or empty.", "scope": "", "scopeKind": ""}, {"name": "upsertUser(userRepo, user)", "description": "Idempotently creates or updates a user in the database based on email.", "scope": "", "scopeKind": ""}, {"name": "upsertCourse(courseRepo, input)", "description": "Idempotently creates or updates a course based on its title, with associated metadata.", "scope": "", "scopeKind": ""}, {"name": "upsertLesson(lessonRepo, input)", "description": "Idempotently creates or updates a lesson within a course based on course ID and order.", "scope": "", "scopeKind": ""}, {"name": "runSeeds()", "description": "Main function that initializes a data source, creates seed data for users, courses, and lessons, and then destroys the data source.", "scope": "", "scopeKind": ""}], "calls": ["createDataSourceFromEnv", "ds.initialize", "ds.getRepository", "upsertUser", "upsertCourse", "upsertLesson", "ds.destroy", "console.log", "require.main === module", "runSeeds()"], "search-terms": ["seed.js", "database seeding", "typeorm", "User", "Course", "Lesson", "idempotent seed", "initial data"], "state": 2, "file_id": 29, "knowledge_revision": 139, "git_revision": "ebae1d1d8e4f2a5e8eca94d96a62809bd980a5f2", "revision_history": [{"106": "10ba7d57aad0e4f061591f056398d807b21221c1"}, {"116": "10ba7d57aad0e4f061591f056398d807b21221c1"}, {"119": "f4000cb8bf3328deae9bdc61681b48e89290d659"}, {"139": "ebae1d1d8e4f2a5e8eca94d96a62809bd980a5f2"}], "ctags": [{"_type": "tag", "name": "bcrypt", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^const bcrypt = require('bcrypt');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "envOrDefault", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^function envOrDefault(key, fallback) {$/", "language": "JavaScript", "kind": "function", "signature": "(key, fallback)"}, {"_type": "tag", "name": "runSeeds", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^async function runSeeds() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "runSeeds", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^module.exports = { runSeeds };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "upsertCourse", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^async function upsertCourse(courseRepo, input) {$/", "language": "JavaScript", "kind": "function", "signature": "(courseRepo, input)"}, {"_type": "tag", "name": "upsertLesson", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^async function upsertLesson(lessonRepo, input) {$/", "language": "JavaScript", "kind": "function", "signature": "(lessonRepo, input)"}, {"_type": "tag", "name": "upsertUser", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/seeds/seed.js", "pattern": "/^async function upsertUser(userRepo, user) {$/", "language": "JavaScript", "kind": "function", "signature": "(userRepo, user)"}], "hash": "d3b52335c0a753e67ed62bac2a771c55", "format-version": 4, "code-base-name": "lms_backend", "filename": "lms_backend/src/seeds/seed.js", "fields": [{"name": "module.exports = { runSeeds };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}