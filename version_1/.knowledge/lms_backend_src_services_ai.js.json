{"is_source_file": true, "format": "JavaScript", "description": "This source file defines an AIService class that interfaces with the Anthropic AI SDK to generate lesson summaries and quizzes for an enterprise LMS system. It includes functions for normalizing quiz data, handling API interactions, and ensuring schema compliance.", "external_files": ["@anthropic-ai/sdk"], "external_methods": ["require('@anthropic-ai/sdk')", "Anthropic"], "published": ["createAIService"], "classes": [{"name": "AIService", "description": "A class that encapsulates methods to generate content such as summaries and quizzes via the Anthropic AI SDK."}], "methods": [{"name": "normalizeQuiz(quiz)", "description": "Validates and normalizes quiz data to ensure it conforms to the expected schema with exactly five questions, each with four options and a valid index.", "scope": "", "scopeKind": ""}, {"name": "generateSummary(content)", "description": "Generates a concise, three-paragraph summary of provided lesson content using the AI SDK.", "scope": "AIService", "scopeKind": "class"}, {"name": "generateQuiz(content)", "description": "Creates a five-question multiple-choice quiz based on lesson content, ensuring the output matches the predefined JSON schema.", "scope": "AIService", "scopeKind": "class"}, {"name": "createAIService()", "description": "Factory function that instantiates and returns an AIService object.", "scope": "", "scopeKind": ""}, {"name": "constructor()", "scope": "AIService", "scopeKind": "class", "description": "unavailable"}], "calls": ["this.client.messages.create", "JSON.parse"], "search-terms": ["Anthropic SDK", "generateSummary", "normalizeQuiz", "createAIService", "quiz schema validation"], "state": 2, "file_id": 33, "knowledge_revision": 140, "git_revision": "3db7263670f21a9dca189aea6f523ca103b1eeee", "revision_history": [{"128": "2ad351f398082359982a5fee492703cda513fed8"}, {"140": "3db7263670f21a9dca189aea6f523ca103b1eeee"}], "ctags": [{"_type": "tag", "name": "AIService", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^class AIService {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "Anthropic", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^const Anthropic = require('@anthropic-ai\\/sdk');$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_ANTHROPIC_VERSION", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^const DEFAULT_ANTHROPIC_VERSION = process.env.ANTHROPIC_VERSION || '2023-06-01';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_MAX_TOKENS", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^const DEFAULT_MAX_TOKENS = Number(process.env.ANTHROPIC_MAX_TOKENS || 1024);$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "DEFAULT_MODEL", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^const DEFAULT_MODEL = process.env.ANTHROPIC_MODEL || 'claude-sonnet-4-20250514';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^  constructor() {$/", "language": "JavaScript", "kind": "method", "signature": "()", "scope": "AIService", "scopeKind": "class"}, {"_type": "tag", "name": "createAIService", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^function createAIService() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "createAIService", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^module.exports = { createAIService };$/", "language": "JavaScript", "kind": "field", "scope": "module.exports", "scopeKind": "class"}, {"_type": "tag", "name": "generateQuiz", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^  async generateQuiz(content) {$/", "language": "JavaScript", "kind": "method", "signature": "(content)", "scope": "AIService", "scopeKind": "class"}, {"_type": "tag", "name": "generateSummary", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^  async generateSummary(content) {$/", "language": "JavaScript", "kind": "method", "signature": "(content)", "scope": "AIService", "scopeKind": "class"}, {"_type": "tag", "name": "normalizeQuiz", "path": "/home/kavia/workspace/code-generation/digitalt3-learning-insights-platform-311763-311772/lms_backend/src/services/ai.js", "pattern": "/^function normalizeQuiz(quiz) {$/", "language": "JavaScript", "kind": "function", "signature": "(quiz)"}], "hash": "9dbb509aced5f224d7aef8af35b4a508", "format-version": 4, "code-base-name": "lms_backend", "filename": "lms_backend/src/services/ai.js", "fields": [{"name": "module.exports = { createAIService };", "scope": "module.exports", "scopeKind": "class", "description": "unavailable"}]}