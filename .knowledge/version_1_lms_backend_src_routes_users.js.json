{"is_source_file": true, "format": "JavaScript", "description": "Express.js route handlers for user management, including fetching users, handling account requests, approval, rejection, revocation, updating user info, and access control logic.", "external_files": ["../middleware/auth", "../middleware/rbac", "../config/db", "../entities/User"], "external_methods": ["require('../middleware/auth')", "require('../middleware/rbac')", "getDataSource()", "userRepo.createQueryBuilder()", "userRepo.findOne()", "userRepo.update()", "userRepo.remove()", "notificationRepo.save()", "notificationRepo.create()"], "published": ["router"], "classes": [], "methods": [{"name": "router.get('/')", "description": "Fetches list of users with optional filters; admin only."}, {"name": "router.get('/requests')", "description": "Fetches pending user account requests; admin only."}, {"name": "router.post('/:userId/approve')", "description": "Approves a user account request, changing status and role; admin only."}, {"name": "router.post('/:userId/reject')", "description": "Rejects a user account request, deletes user, and sends notification; admin only."}, {"name": "router.post('/:userId/revoke')", "description": "Revokes a user account, updates status, and notifies user; admin only."}, {"name": "router.patch('/:userId')", "description": "Updates user details such as email, name, role, status, professionalTitle; admin only."}, {"name": "router.get('/:userId')", "description": "Retrieves user info by ID, accessible to admin, owner, or special admin email."}], "calls": ["getDataSource()", "userRepo.createQueryBuilder()", "userRepo.findOne()", "userRepo.update()", "userRepo.remove()", "notificationRepo.save()", "notificationRepo.create()"], "search-terms": ["user account management", "admin user controls", "user approval", "user rejection", "user revocation", "user profile access", "pending user requests", "role-based access control"], "state": 2, "ctags": [], "filename": "version_1/lms_backend/src/routes/users.js", "format-version": 4, "code-base-name": "https://github.com/rossiniheyyou-cyber/dt310feb.git:kavia-main-1431", "knowledge_revision": 338, "git_revision": "a909b4454721f96265e3e16590e1fcd4bbdca8df", "revision_history": [{"338": "a909b4454721f96265e3e16590e1fcd4bbdca8df"}]}