{"is_source_file": true, "format": "JavaScript", "description": "This file provides functions to generate presigned URLs for uploading and downloading videos from an AWS S3 bucket, including environment variable validation and content type inference.", "external_files": ["@aws-sdk/client-s3", "@aws-sdk/s3-request-presigner"], "external_methods": ["getSignedUrl", "S3Client", "GetObjectCommand", "PutObjectCommand"], "published": ["getPresignedUrl", "getUploadPresignedUrl"], "classes": [], "methods": [{"name": "createS3ClientFromEnv", "description": "Creates an S3Client instance configured with AWS region from environment variables."}, {"name": "getBucketNameFromEnv", "description": "Retrieves and validates the S3 bucket name from environment variables."}, {"name": "normalizeAndValidateS3Key", "description": "Validates and sanitizes the S3 object key string."}, {"name": "inferContentType", "description": "Infers content type based on filename extension."}, {"name": "getPresignedUrl", "description": "Generates a presigned URL for downloading a private S3 object."}, {"name": "getUploadPresignedUrl", "description": "Generates a presigned URL for uploading a video to S3."}], "calls": ["getSignedUrl", "createS3ClientFromEnv", "getBucketNameFromEnv", "normalizeAndValidateS3Key", "inferContentType"], "search-terms": ["storage", "presigned URL", "S3", "AWS SDK", "video upload", "video download"], "state": 2, "ctags": [], "filename": "version_1/lms_backend/src/services/storage.js", "format-version": 4, "code-base-name": "https://github.com/rossiniheyyou-cyber/dt310feb.git:kavia-main-1431", "knowledge_revision": 336, "git_revision": "a909b4454721f96265e3e16590e1fcd4bbdca8df", "revision_history": [{"336": "a909b4454721f96265e3e16590e1fcd4bbdca8df"}]}