{"is_source_file": true, "format": "JavaScript", "description": "This file defines Express.js routes for managing user notifications, including fetching, marking as read, and creating notifications, with role-based access control.", "external_files": ["../middleware/auth", "../config/db"], "external_methods": ["require('../middleware/auth')", "getDataSource()"], "published": ["router"], "classes": [], "methods": [{"name": "GET /notifications", "description": "Fetches notifications for the authenticated user, optionally filtering for unread only."}, {"name": "PATCH /notifications/:notificationId/read", "description": "Marks a specific notification as read."}, {"name": "PATCH /notifications/read-all", "description": "Marks all notifications for the user as read."}, {"name": "POST /notifications", "description": "Creates a new notification, restricted to admins or the user themselves."}], "calls": ["getDataSource()", "notificationRepo.find()", "notificationRepo.findOne()", "notificationRepo.update()", "notificationRepo.create()", "notificationRepo.save()"], "search-terms": ["notifications route", "notification management", "express notifications", "notifications API", "user notifications"], "state": 2, "ctags": [], "filename": "version_1/lms_backend/src/routes/notifications.js", "format-version": 4, "code-base-name": "https://github.com/rossiniheyyou-cyber/dt310feb.git:kavia-main-1431", "knowledge_revision": 335, "git_revision": "a909b4454721f96265e3e16590e1fcd4bbdca8df", "revision_history": [{"335": "a909b4454721f96265e3e16590e1fcd4bbdca8df"}]}