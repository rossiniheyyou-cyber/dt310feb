{"is_source_file": true, "format": "JavaScript (Node.js, Express)", "description": "Source code for authentication routes in a Node.js Express backend, including user registration, login, profile management, password reset, and Azure AD integration.", "external_files": ["../middleware/auth", "../utils/jwt", "../config/db", "../entities/User"], "external_methods": ["signAccessToken", "getDataSource"], "published": ["router"], "classes": [], "methods": [{"name": "POST /auth/register", "description": "Handles user registration, including password hashing, user creation, and handling optional profile fields."}, {"name": "POST /auth/login", "description": "Authenticates user credentials, issues JWT token, and updates login activity."}, {"name": "PATCH /auth/profile", "description": "Updates current user's profile information such as name and professional title."}, {"name": "GET /auth/me", "description": "Retrieves current authenticated user's profile."}, {"name": "POST /auth/azure/find-or-create", "description": "Finds or creates a user based on Azure AD sign-in, handling role and status assignment."}, {"name": "POST /auth/forgot-password", "description": "Generates a password reset token and updates user record; in production, would send email."}, {"name": "POST /auth/reset-password", "description": "Resets user password using a valid reset token."}], "calls": ["bcrypt.hash", "bcrypt.compare", "crypto.randomBytes", "signAccessToken", "getDataSource", "userRepo.findOne", "userRepo.create", "userRepo.save", "userRepo.update", "userRepo.find", "userRepo.findOne", "authMiddleware"], "search-terms": ["auth routes", "user registration", "password reset", "Azure AD sign-in", "JWT token issuance", "profile update", "user management"], "state": 2, "ctags": [], "filename": "version_1/lms_backend/src/routes/auth.js", "format-version": 4, "code-base-name": "https://github.com/rossiniheyyou-cyber/dt310feb.git:kavia-main-1431", "knowledge_revision": 342, "git_revision": "a909b4454721f96265e3e16590e1fcd4bbdca8df", "revision_history": [{"342": "a909b4454721f96265e3e16590e1fcd4bbdca8df"}]}