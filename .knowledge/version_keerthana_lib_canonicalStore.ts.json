{"is_source_file": true, "format": "TypeScript", "description": "This file manages a canonical data store for courses, modules, assignments, and quizzes, including synchronization with backend API and localStorage persistence. It provides functions for retrieving, updating, and syncing course data, as well as managing assignments and quizzes.", "external_files": ["@/data/canonicalCourses", "@/data/assignments", "@/data/quizData", "./api/courses"], "external_methods": ["getInitialCanonicalCourses", "getCourses"], "published": ["getCanonicalState", "syncCoursesFromBackend", "subscribeCanonical", "getCoursesForInstructor", "getPublishedCoursesForPath", "getCourseById", "addCourse", "updateCourse", "setCourseModules", "archiveCourse", "publishCourse", "deleteCourse", "getAssignments", "getAssignmentById", "addAssignment", "updateAssignment", "getQuizConfigs", "getQuizConfig", "addOrUpdateQuizConfig", "getAvailableAssessments"], "classes": [], "methods": [{"name": "loadInitial", "description": "Initializes the store with default data including canonical courses, assignments, and quiz configurations."}, {"name": "inferPathSlugFromTags", "description": "Infers a URL path slug based on course tags/roles."}, {"name": "syncBackendCourses", "description": "Fetches courses from backend API and transforms them into canonical format, merging with existing data."}, {"name": "loadState", "description": "Loads store state from localStorage or initializes with default data."}, {"name": "saveState", "description": "Saves current store state to localStorage."}, {"name": "getCanonicalState", "description": "Returns the current canonical store state, performing background sync with backend if needed."}, {"name": "syncCoursesFromBackend", "description": "Manually triggers synchronization of courses with backend API."}, {"name": "subscribeCanonical", "description": "Allows subscribing to store updates."}, {"name": "setState", "description": "Updates the store state and notifies subscribers."}, {"name": "getCoursesForInstructor", "description": "Returns courses sorted by last updated date for instructor view."}, {"name": "getPublishedCoursesForPath", "description": "Retrieves published courses filtered by path slug."}, {"name": "getCourseById", "description": "Finds a course by its ID."}, {"name": "addCourse", "description": "Adds a new course to the store."}, {"name": "updateCourse", "description": "Updates properties of a course identified by ID."}, {"name": "setCourseModules", "description": "Sets modules for a specific course."}, {"name": "archiveCourse", "description": "Marks a course as archived."}, {"name": "publishCourse", "description": "Marks a course as published."}, {"name": "deleteCourse", "description": "Removes a course from the store."}, {"name": "getAssignments", "description": "Returns all assignments."}, {"name": "getAssignmentById", "description": "Finds an assignment by ID."}, {"name": "addAssignment", "description": "Adds a new assignment."}, {"name": "updateAssignment", "description": "Updates an assignment by ID."}, {"name": "getQuizConfigs", "description": "Returns all quiz configurations."}, {"name": "getQuizConfig", "description": "Retrieves a specific quiz configuration by ID."}, {"name": "addOrUpdateQuizConfig", "description": "Adds or updates a quiz configuration."}, {"name": "getAvailableAssessments", "description": "Returns a list of all assessments (quizzes and assignments)."}], "search-terms": ["canonical store", "courses synchronization", "localStorage persistence", "backend API courses", "course path slug inference", "course management functions", "assignment management", "quiz configuration"], "state": 2, "ctags": [], "filename": "version_keerthana/lib/canonicalStore.ts", "format-version": 4, "code-base-name": "https://github.com/rossiniheyyou-cyber/dt310feb.git:kavia-main-1431", "knowledge_revision": 173, "git_revision": "a909b4454721f96265e3e16590e1fcd4bbdca8df", "revision_history": [{"173": "a909b4454721f96265e3e16590e1fcd4bbdca8df"}]}